import{u as D,d as N,r as l,j as t,q as T,s as A}from"./index-BgLP3pyJ.js";import{g as B,a as F}from"./useAddress-DlIQzWZI.js";import{c as z,i as R,B as V,b as X}from"./index-Ctbh6-xI.js";import{E as H,F as J}from"./index.esm-D4nnpEKp.js";import{S as m,a as L}from"./index-BTprGGqH.js";import{B as h,I as O}from"./gapSize-84esfVpV.js";import{R as P}from"./UserOutlined-CMSNNor_.js";import"./iconBase-NBx636WH.js";import"./hoist-non-react-statics.cjs-DQogQWOa.js";import"./ExclamationCircleFilled-CLfVpoM2.js";import"./index-09sV6k0O.js";import"./context-BeSh3nfh.js";const{Search:U}=O,W=z(({css:s})=>({customTable:s`
    .ant-table-container {
      .ant-table-body,
      .ant-table-content {
        scrollbar-width: thin;
        scrollbar-color: #eaeaea transparent;
        scrollbar-gutter: stable;
      }
    }
  `})),se=()=>{var x;const{allUserProfile:s}=D(e=>e.userReducer),r=N(),{styles:u}=W(),[n,p]=l.useState(""),[i,f]=l.useState(1),y=e=>{p(e.target.value)},g=e=>{f(e)},d=async(e,a,S,b,C,k,v)=>{const E=T({keyword:e,role:a,page:S,size:b,sort:C,direction:k,isDeleted:v});await r(E)};l.useEffect(()=>{d("",i,0,100,"id","DESC",!1)},[]),l.useEffect(()=>{const e=setTimeout(()=>{d(n,i,0,100,"id","DESC",!1)},300);return()=>clearTimeout(e)},[n,i]);const j=async e=>{await r(A(e)),await d(n,i,0,100,"id","DESC",!1)},c=(x=s==null?void 0:s.content)==null?void 0:x.map((e,a)=>({...e,stt:a+1})),o=[{title:"Stt",dataIndex:"stt",key:"stt",width:40,fixed:"left"},{title:"Id",dataIndex:"id",key:"id",width:40,fixed:"left"},{title:"Hình ảnh",dataIndex:"avatar",key:"avatar",width:100,fixed:"left",render:e=>t.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e?t.jsx("img",{src:e,width:50,alt:"..."}):t.jsx("img",{src:R,width:50,alt:"..."})})},{title:"Họ và tên",dataIndex:"fullname",key:"fullname",width:150,fixed:"left",render:e=>e.toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")},{title:"Email",dataIndex:"email",key:"email",width:200},{title:"Số điện thoại",dataIndex:"phone",key:"phone",width:120},{title:"Ngày sinh",dataIndex:"dob",key:"dob",width:120},{title:"Xác thực",dataIndex:"isVerified",key:"isVerified",width:100,render:e=>t.jsx("div",{className:"flex justify-center",children:e?t.jsx(V,{className:"text-[#57c81f] text-[24px]"}):t.jsx(X,{className:"text-[#faad15] text-[24px]"})})},{title:"Số công việc",dataIndex:"numOfJob",key:"numOfJob",width:100},{title:"Địa chỉ",dataIndex:"address",key:"address",width:150},{title:"Quận huyện",dataIndex:"districtId",key:"districtId",width:140,render:e=>{const a=B(e);return(a==null?void 0:a.name)||"chưa xác định"}},{title:"Tỉnh thành",dataIndex:"provinceId",key:"provinceId",width:180,render:e=>{const a=F(e);return(a==null?void 0:a.name)||"chưa xác định"}},{title:"Xóa người dùng",dataIndex:"delete",key:"delete",width:120,fixed:"right",render:(e,a)=>t.jsx("div",{style:{display:"flex",justifyContent:"center"},children:t.jsx(h,{type:"primary",danger:!0,onClick:()=>j(a.id),children:"X"})})}],w=e=>!!e.dataIndex,I=o.filter(w).map(e=>({title:e.title,dataIndex:e.dataIndex}));return t.jsxs(t.Fragment,{children:[t.jsxs(m,{className:"flex justify-between items-center mx-2 p-2",children:[t.jsxs(m,{children:[t.jsx(U,{placeholder:"Tìm theo tên và email",allowClear:!0,enterButton:!0,size:"large",value:n,onChange:y}),t.jsx(L,{defaultValue:1,style:{width:120},size:"large",onChange:g,options:[{value:1,label:"Tất cả"},{value:2,label:"Employer"},{value:3,label:"Applier"}]}),t.jsx(h,{size:"large",onClick:()=>{new H().addSheet("DanhSachNguoiDung").addColumns(I).addDataSource(c||[]).saveAs("DanhSachNguoiDung.xlsx")},children:"Export File Excel"})]}),t.jsxs("div",{className:"flex items-center text-2xl font-medium",children:[t.jsx("img",{className:"me-2",src:"https://emoji.slack-edge.com/T0172CCPGUW/party-blob/d7253707fa13e9ee.gif",width:"30"}),t.jsx("h1",{className:"text-2xl me-1",children:s==null?void 0:s.totalElements}),t.jsx(P,{})]})]}),t.jsx(J,{size:"small",className:`${u.customTable} p-2`,columns:o,dataSource:c,rowKey:"id",bordered:!0,scroll:{x:"max-content",y:370},pagination:{pageSize:10}})]})};export{se as default};
